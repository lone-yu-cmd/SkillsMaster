---
name: "requirements-implementation-plan"
description: "标准化需求分析流程，自动创建需求文档和实施计划，当用户说'需要开始一个新需求'时触发"
---

# 需求实施计划 (Requirements Implementation Plan)

这个skill帮助标准化需求分析流程，确保每个新需求都有完整的文档记录和明确的实施路径。

## 触发机制

**当用户明确告知以下内容时自动触发：**
- "需要开始一个新需求"
- "我有一个新需求"
- "开始新需求"
- 或其他类似表达新需求开始意图的语句

## 执行流程

### 步骤1：文件夹检查与创建

1. 检查项目根目录是否存在 `.RequirementsAnalysis` 文件夹
2. 如果不存在，自动创建该文件夹：
   ```bash
   mkdir -p .RequirementsAnalysis
   ```

### 步骤2：配置gitignore

1. 检查项目根目录的 `.gitignore` 文件
2. 如果 `.RequirementsAnalysis` 未被忽略，将其添加到 `.gitignore` 文件中：
   ```
   # 需求分析文档（本地使用）
   .RequirementsAnalysis/
   ```

### 步骤3：创建需求目录

1. 扫描 `.RequirementsAnalysis` 文件夹中现有的需求目录
2. 根据已有目录的最大序号，自动计算下一个序号
3. 与用户确认需求名称
4. 按照标准化命名格式创建新目录：`XXX-需求名称`
   - 例如：`001-用户登录功能`、`002-订单管理模块`

### 步骤4：创建需求文档

在新创建的需求目录下生成 `README.md` 文档，使用以下模板：

```markdown
# 需求名称

> 创建时间：YYYY-MM-DD
> 状态：进行中

## 需求内容

### 业务背景
<!-- 描述这次需求的业务背景和目的 -->

### 功能要求
<!-- 详细说明具体的功能要求 -->

### 验收标准
<!-- 明确的验收标准和测试点 -->

---

## 当前代码大纲

### 已阅读的相关代码
<!-- 列出为了实现需求而阅读的代码文件 -->

| 文件路径 | 代码作用 | 与需求的关系 |
|---------|---------|-------------|
| example/file.ts | 描述代码作用 | 描述关系 |

### 新代码实现要点
<!-- 描述新代码需要实现的主要内容 -->

---

## 代码实施计划

### 实施步骤

1. **步骤1：xxx**
   - 具体任务描述
   - 涉及文件：`path/to/file`
   
2. **步骤2：xxx**
   - 具体任务描述
   - 涉及文件：`path/to/file`

### 技术方案
<!-- 描述技术实现方案 -->

### 风险评估
<!-- 列出可能的风险点和应对措施 -->

---

## 变更记录

| 日期 | 变更内容 | 变更人 |
|-----|---------|-------|
| YYYY-MM-DD | 初始创建 | - |
```

### 步骤5：确认与反馈

文档创建完成后，**必须**主动与用户确认以下事项：

1. ✅ 需求内容是否完整准确？
2. ✅ 代码大纲分析是否正确？
3. ✅ 实施计划是否合理？
4. ✅ 是否需要添加其他相关文件或资料？

**等待用户明确确认后才能进入下一步！**

### 步骤6：开始实施

**只有在收到用户的最终确认后**，才能开始按照需求文档进行实际的代码改造实施工作。

实施过程中：
- 严格遵循已确认的需求规划
- 每完成一个步骤，更新需求文档中的变更记录
- 如有计划变更，需再次与用户确认

## 注意事项

1. **不要跳过确认步骤**：在用户确认前，不得开始任何代码修改
2. **保持文档同步**：实施过程中如有变更，及时更新需求文档
3. **序号唯一性**：确保每个需求目录的序号唯一且递增
4. **命名规范**：需求名称应简洁明了，能够清晰表达需求主题

## 示例交互

**用户**：需要开始一个新需求

**AI执行**：
1. 创建/检查 `.RequirementsAnalysis` 文件夹
2. 配置 `.gitignore`
3. 询问需求名称
4. 创建 `001-用户登录功能` 目录
5. 生成标准化需求文档
6. 与用户确认文档内容
7. 等待用户确认后开始实施
